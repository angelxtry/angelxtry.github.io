---
layout: post
comments: true
title: "[TIL] 2019-09-10"
tags:
  - TIL
  - mongodb
  - mongoose
---

node에서 mongodb-native driver를 사용하려다가 삽질만 했다.

커넥션 객체? 혹은 핸들러?만 exports해서 사용하고 싶었는데 상세하게 설명된 자료를 찾지 못했다.

메뉴얼을 보고 구현해보려고 했지만 그것도 잘 안되고... 결국 삽질하다가 일단 원하는 기능을 구현해보는 것에 더 중점을 두고 mongoose로 전환했다.

mongodb에서 삽질하면서 코드가 눈에 익어서인지 mongoose는 간단하게 성공했다.

express에서 자연스럽게 커넥션 객체를 생성할 수 있었고 다른 js 파일에서 호출하는 것도 간단했다.

공식 메뉴얼을 훑어보면서 구현해보니 statics까지는 어려운 것이 없었다.

CRUD기능을 조합하여 statics라는 custom method 같은 것을 만들어두는 것 같은 느낌이었는데 너무 간단하게 구현되어서 어리둥절할 정도였다.

스키마에 statics까지 같이 구현해 놓으니 왜 쉽고 편하다고 하는지 알 것 같았다.

(물론 겉핥기만 해보고 오바하는 걸 수도 있다.)

mongodb-native driver로 2시간 삽질하고 mongoose로 한 시간 정도 진도를 나갔다.

오늘도 보람찬 하루!

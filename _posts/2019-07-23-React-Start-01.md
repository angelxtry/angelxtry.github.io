---
layout: post
comments: true
title: "[React] React baseic 01"
tags:
  - react
---

# React basic 01

React를 시작했다.

처음 접해보는 거라서 그런지 신기하고 재미있다.

공부한 내용을 기록해보려고 한다.

---

일단 다음과 같이 시작한다.

```cmd
npx react-create-app ReactStart
cd ReactStart
yarn start
```

`yarn start`를 실해하면 브라우저로 `http://localhost:3000/`에 접속하여 react가 실행되는 것을 확인할 수 있다.

`ReactStart/src` 경로에서 `index.js` 파일을 제외한 모든 파일을 삭제한다.

`index.js` 파일에서도 다음의 두 라인을 제외하고 모두 삭제한다.

```js
import React from 'react';
import ReactDOM from 'react-dom';
```

---

다음과 같이 입력한다.

```js
const HelloWorld = () => (
  <div>HELLO WORLD</div>
);
ReactDOM.render(<HelloWorld/>, document.getElementById("root"));
```

`HelloWorldr`라는 함수를 생성하고 함수 안에서 html 코드를 직접 작성한다.

그리고 `ReactDOM.render` 메소드에서 `HelloWorld`를 호출하고 `root` 엘리먼트에 추가한다.

`yarn start`를 이미 실행해놨다면 자동으로 웹페이지가 렌더링되는 것을 확인할 수 있다.

html 코드 내에서 다른 함수를 호출할 수도 있고, 함수에 인자를 전달할 수도 있다.

```js
const HelloWorld = ({name}) => (
  <div>HELLO WORLD {name}</div>
);
const SuperWorld = () => (
  <div>
    슈퍼월드!
    <HelloWorld name='React' />
  </div>
)
ReactDOM.render(<SuperWorld />, document.getElementById('root'));
```

위 코드를 보면 `SuperWorld` 함수에서 `HelloWorld` 함수를 호출하면서 인자로 `name`을 전달한다.

인자를 전달할 때는 반드시 변수명을 같이 적어주어야 한다. 위 코드에서는 `name='React'`라고 name이라는 변수명을 명시했다.

`HelloWorld` 함수에서 인자를 받을 때는 꼭 같은 이름일 필요는 없다.

---

이미 선언된 변수를 전달할 때는 `{}`를 이용한다.

```js
const groceries = ['cucumber', 'kale'];
const GroceryList = (props) => {
  return (
    <div>
      <h2>Grocery List</h2>
      <ul>
        <li>{props.groceries[0]}</li>
        <li>{props.groceries[1]}</li>
      </ul>
    </div>
  );
};
ReactDOM.render(<GroceryList groceries={groceries} />,
  document.getElementById('root'));
```

`groceries`라는 변수를 전달하기 위해 `{}`를 사용했다.

`GroceryList` 함수에서는 인자를 받기 위해 `props`라는 명칭을 사용했다.

`props`는 예약어가 아니다. 관용적으로 `props`로 사용하는 것 같다. 다른 명칭을 사용해도 문제가 되지 않는다.

---

```js
const groceries = ['cucumber', 'kale'];
const GroceryList = (props) => (
  <div>
    <h2>Grocery List</h2>
    <ul>
      <li>{props.groceries[0]}</li>
      <li>{props.groceries[1]}</li>
    </ul>
  </div>
);
ReactDOM.render(<GroceryList groceries={groceries} />,
  document.getElementById('root'));
```

`GroceryList` 함수에서 `return`을 생략하여 간단하게 표한할 수 있다.

`=>` 뒤에 `{}`가 아니라 `()`인 것을 주의하자.

---

```js
const GroceryList = (props) => (
  <div>
    <h2>Grocery List</h2>
  </div>
  <div>
    <ul>
      <li>{props.groceries[0]}</li>
      <li>{props.groceries[1]}</li>
    </ul>
  </div>
);
ReactDOM.render(<GroceryList groceries={groceries} />,
  document.getElementById('root'));
```

위 코드는 다음과 같은 에러가 발생한다.

```cmd
Parsing error: Adjacent JSX elements must be wrapped
in an enclosing tag. Did you want a JSX fragment <>...</>?
```

`<div>...</div>` 태그가 두 개 들어간 것이 에러의 원인인 것 같다.

---

react는 class를 이용하여 상태를 관리할 수 있다.

```js
class TodoListItem extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      done: false,
      score: 0
    };
  };
  onListItemClick() {
    this.setState({
      done: !this.state.done
    });
  }
  countClick() {
    this.setState({
      score: this.state.score += 1
    });
  };
  render() {
    const style = {
      textDecoration: this.state.done ? 'line-through' : 'none'
    }
    return (
      <div>
        <h2>To Do List</h2>
        <ul>
          <li style={style} onClick={() => this.onListItemClick()}>
            {this.props.todos[0]}
          </li>
          <li onClick={() => this.countClick()}>{this.state.score}</li>
        </ul>
      </div>
    )
  }
}
ReactDOM.render(<TodoListItem todos={todos} />,
  document.getElementById('root'));
```

`React.Component`를 상속받으면 `constructor`, `super`를 필수적으로 사용하는 것 같다. (이제 막 공부를 시작하는 단계라 아직 반례를 찾지 못했다.)

`constructor`에서 `state`라는 object를 이용하여 상태를 관리한다.

`state`는 당연히 예약어가 아니다.

`this.setState` 메서드는 react에서 관리하는 함수다. 함수명을 변경하면 에러가 발생한다.

여기서는 `onListItemClick`, `countClick` 메서드를 생성하여 `state` object의 값을 변경했다.

이런 방식으로 상태를 관리하면 상태의 변경이 있을 때마다 자동으로 렌더링되어 브라우저에 변경된 값이 출력된다.

html 엘리먼트의 스타일을 변경하기 위해서 `style`이라는 object에서 `textDecoration`라는 키워드를 사용했다.

return문에서 html 코드를 사용할 때는 `()`를 사용하여 html코드를 감싸준다.

클릭 이벤트를 처리하기 위해 `onClick` 키워드를 사용한다.

`onClick` 키워드에서 `arrow function`을 사용하면 `bind`를 사용하지 않아도 되고, 코드도 더 깔끔해진다.

---

```js
class TodoListItem extends React.Component {
  constructor(props) {
    super(props);
  }
  render() {
    return (
      <ul>
        {this.props.todos.map((value, key, array) => {
          return <li key={key}>{key}: {value}</li>
        })}
      </ul>
    );
  }
}

const App = () => (
  <div>
    <h2>My Todo List</h2>
    <TodoListItem
      todos={[
        'Learn react',
        'Crush Recast.ly',
        'Maybe sleep',
      ]}
    />
  </div>
);
ReactDOM.render(<App/>, document.getElementById("root"));
```

`map`을 사용하여 인자로 넘겨받은 데이터를 처리해봤다.

`map`을 사용할 경우 html 코드에 `key`를 추가하지 않으면 console 창에 다음과 같은 warning이 발생한다.

```cmd
Warning: Each child in a list should have a unique "key" prop.
```

`key`는 unique한 값이어야 한다. `key`가 중복되어도 warning이 발생한다.

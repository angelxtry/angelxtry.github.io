---
layout: post
comments: true
title: "[React] React baseic 02 - ul, li tag에 이벤트 적용하기"
tags:
  - react
  - ul-li-tag
  - style
---

# ul, li tag에 이벤트 적용하기

React를 살금살금 만져보고 있다.

리스트를 받아서 ul, li로 브라우저에 출력하고 몇 가지 이벤트를 걸려고 했는데 맘대로 안되서 한참 헤맸다.

일단 삽질한 코드를 보자.

```js
const groceries = ['tomato', 'kale', 'cucumber', 'carrot', 'potato'];
class GroceryListItem extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      done: new Array(props.groceries.length).fill(false),
    };
  }
  handleItemClick = key => {
    const done = this.state.done;
    done[key] = !done[key];
    this.setState(() => ({
      done: done,
    }));
  };
  RenderList = props => {
    const items = props.groceries;
    return (
      <ul>
        {items.map((value, key) => {
          if (this.state.done[key]) {
            return (
              <li
                key={key}
                onClick={() => this.handleItemClick(key)}
                style={{ textDecoration: 'line-through' }}
              >
                {value}
              </li>
            );
          }
          return (
            <li key={key} onClick={() => this.handleItemClick(key)}>
              {value}
            </li>
          );
        })}
      </ul>
    );
  };
  render() {
    return (
      <div>
        <h2>Grocery List</h2>
        <this.RenderList groceries={this.props.groceries} />
      </div>
    );
  }
}
ReactDOM.render(
  <GroceryListItem groceries={groceries} />,
  document.getElementById('root'),
);
```

GroceryListItem이라는 클래스를 만들고 해당 클래스 내에서 ul, li를 모두 처리하고자 했다.

다른 부분에서는 문제될 것이 없었지만 li elemeent에 개별적으로 이벤트를 적용하려고하니 막막했다.

`this.state`에 입력받은 인자의 길이만큼 array를 생성해서 쿵짝쿵짝하려고 했다.

`line-through`까지는 어떻게 처리했지만, 다른 이벤트를 더 추가하려고 시도해보니 코드만 점점 더러워지는 느낌이 들었다.

다시 react 공식 문서로 돌아가서 휙휙 읽다보니 li elements를 별도의 클래스로 만드는 것이 낫겠다는 생각이 들었다.

그래서 작성한 코드.

```js
const groceries = ['tomato', 'kale', 'cucumber', 'carrot', 'potato'];
class ListItem extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      done: false,
      hover: false,
    };
  }
  handleItemClick = () => {
    this.setState(() => ({
      done: !this.state.done,
    }));
  };
  handleHover = b => {
    this.setState({
      hover: b,
    });
  };
  render() {
    const style = {
      textDecoration: this.state.done ? 'line-through' : 'none',
      fontWeight: this.state.hover ? 'bold' : 'normal',
    };
    return (
      <li>
        <span
          onClick={() => this.handleItemClick()}
          style={style}
          onMouseEnter={() => this.handleHover(true)}
          onMouseOut={() => this.handleHover(false)}
        >
          {this.props.value}
        </span>
      </li>
    );
  }
}
const GroceryList = prop => {
  const list = prop.groceries;
  const listItem = list.map((value, key) => (
    <ListItem key={key} value={value} />
  ));
  return (
    <div>
      <h2>Grocery List</h2>
      <ul>{listItem}</ul>
    </div>
  );
};
ReactDOM.render(
  <GroceryList groceries={groceries} />,
  document.getElementById('root'),
);
```

`li`를 별도의 class로 분리하고 나니 `this.state`가 간단해졌다.

`this.state`가 간단해지니 자연스럽게 event handler도 html을 구성하는 코드도 간단해졌다.

ㅋㅋㅋ 재미있네.

처음이라 신기한 부분을 꼽아보자면,

`style`을 동시에 여러개를 하나의 변수로 처음 선언해봤다.

```js
const style = {
  textDecoration: this.state.done ? 'line-through' : 'none',
  fontWeight: this.state.hover ? 'bold' : 'normal',
};
```

`GroceryList` 클래스에서 `ListItem`에 어떻게 데이터를 넘기는 건지 아직 잘 이해안된다.

찾아 볼 것도 여러가지가 있다.

1.인자를 전달할 때 어떻게 보기 좋게 전달할 것인가.

2.ul, li 구조를 작성하는 것에 대해 좀 더 이해하는 것과 숙련도를 높이는 것.

3.이벤트를 생성할 때 효율적인 방법이 어떻것이 있는지.

너무 졸리다. 오늘은 여기까지만 하자.

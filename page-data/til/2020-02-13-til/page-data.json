{"componentChunkName":"component---src-templates-blog-post-js","path":"/til/2020-02-13-til/","result":{"data":{"site":{"siteMetadata":{"title":"TIL","author":"[Suho]","siteUrl":"https://gatsby-starter-bee.netlify.com","comment":{"disqusShortName":"","utterances":"angelxtry/blog-comment"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"6d1e84b3-42d8-56c3-b83b-d93762c3f029","excerpt":"견고한 node.js 프로젝트 설계하기를 읽었다. 참고할 만한 내용들을 적어둔다. 3계층 설계 Controller - Serveice Layer - Data Access Layer 레이어를 확실하게 분리하자. Express Route Controller - Service Class - Data Access Layer(ORM 관련 코드) 꼭 class로 작성하지 않아도 좋으니 앞으로는 꼭 레이어를 분리하도록 하자. 비지니스 로직을 Controller에 넣지 마십시오 express…","html":"<p><a href=\"https://velog.io/@hopsprings2/%EA%B2%AC%EA%B3%A0%ED%95%9C-node.js-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%95%84%ED%82%A4%ED%85%8D%EC%B3%90-%EC%84%A4%EA%B3%84%ED%95%98%EA%B8%B0\">견고한 node.js 프로젝트 설계하기</a>를 읽었다.</p>\n<p>참고할 만한 내용들을 적어둔다.</p>\n<h2 id=\"3계층-설계\" style=\"position:relative;\"><a href=\"#3%EA%B3%84%EC%B8%B5-%EC%84%A4%EA%B3%84\" aria-label=\"3계층 설계 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3계층 설계</h2>\n<p>Controller - Serveice Layer - Data Access Layer</p>\n<p>레이어를 확실하게 분리하자.</p>\n<p>Express Route Controller - Service Class - Data Access Layer(ORM 관련 코드)</p>\n<p>꼭 class로 작성하지 않아도 좋으니 앞으로는 꼭 레이어를 분리하도록 하자.</p>\n<h2 id=\"비지니스-로직을-controller에-넣지-마십시오\" style=\"position:relative;\"><a href=\"#%EB%B9%84%EC%A7%80%EB%8B%88%EC%8A%A4-%EB%A1%9C%EC%A7%81%EC%9D%84-controller%EC%97%90-%EB%84%A3%EC%A7%80-%EB%A7%88%EC%8B%AD%EC%8B%9C%EC%98%A4\" aria-label=\"비지니스 로직을 controller에 넣지 마십시오 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>비지니스 로직을 Controller에 넣지 마십시오</h2>\n<p>express의 controller와 비지니스 로직을 분리.</p>\n<h2 id=\"service-계층에-비지니스-로직을-넣자\" style=\"position:relative;\"><a href=\"#service-%EA%B3%84%EC%B8%B5%EC%97%90-%EB%B9%84%EC%A7%80%EB%8B%88%EC%8A%A4-%EB%A1%9C%EC%A7%81%EC%9D%84-%EB%84%A3%EC%9E%90\" aria-label=\"service 계층에 비지니스 로직을 넣자 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Service 계층에 비지니스 로직을 넣자</h2>\n<p>Service 레이어에서는 SQL query 형태의 코드가 있으면 안된다.</p>\n<p>SQL query는 data access layer로 다 보내자.</p>\n<p>express router에 service 코드를 넣지 말자.</p>\n<p>req, res도 server layer에 넣으면 안된다.</p>\n<p>상태코드와 header 같은 것들도 마찬가지다.</p>\n<p><code class=\"language-text\">req, res, 상태코드, header 등이 들어가면 로직 뿐만 아니라 테스트도 지저분해진다.</code></p>\n<hr>\n<p>이외에도 의존성 주입이나 Loader 구조 활용등 배울만한 내용이 많았다.</p>\n<p>다음 프로젝트에는 꼭 적용해보자.</p>","frontmatter":{"title":"2020-02-13 TIL","date":"February 14, 2020"}}},"pageContext":{"slug":"/til/2020-02-13-til/","previous":{"fields":{"slug":"/algorithm/2020-02-13-shuffle-cards/"},"frontmatter":{"title":"Shuffle Cards","category":"algorithm"}},"next":{"fields":{"slug":"/blog/2020-02-17-daily/"},"frontmatter":{"title":"2020-02-17 daily","category":"blog"}}}},"staticQueryHashes":["3128451518","96099027"]}